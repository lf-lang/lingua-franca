<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>lingua-franca: org.lflang.generator.RuntimeRange&lt; T extends NamedInstance Class Template Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">lingua-franca<span id="projectnumber">&#160;0.10.1</span>
   </div>
   <div id="projectbrief">Lingua Franca code generator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classorg_1_1lflang_1_1generator_1_1RuntimeRange_3_01T_01extends_01NamedInstance.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">org.lflang.generator.RuntimeRange&lt; T extends NamedInstance Class Template Reference<div class="ingroups"><a class="el" href="group__Instances.html">Instances</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Representation of a range of runtime instance objects (port channels, reactors, reactions, etc.).  
 <a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Representation of a range of runtime instance objects (port channels, reactors, reactions, etc.). </p>
<p>This class and its derived classes have the most detailed information about the structure of a Lingua Franca program. There are three levels of detail:</p>
<ul>
<li>The abstract syntax tree (AST).</li>
<li>The compile-time instance graph (CIG).</li>
<li>The runtime instance graph (RIG).</li>
</ul>
<p>In the AST, each reactor class is represented once. In the CIG, each reactor class is represented as many times as it is instantiated, except that a bank has only one representation (as in the graphical rendition). Equivalently, each CIG node has a unique full name, even though it may represent many runtime instances. The CIG is represented by <code><a class="el" href="classorg_1_1lflang_1_1generator_1_1NamedInstance.html">NamedInstance</a></code> and its derived classes. In the RIG, each bank is expanded so each bank member and each port channel is represented.</p>
<p>In general, determining dependencies between reactions requires analysis at the level of the RIG. But a brute-force representation of the RIG can get very large, and for most programs it has a great deal of redundancy. In a fully detailed representation of the RIG, for example, a bank of width N that contains a bank of width M within which there is a reactor R with port P will have N*M runtime instances of the port. If the port is a multiport with width L, then there are N*M*L edges connected to instances of that port, each of which may go to a distinct set of other remote runtime port instances.</p>
<p>This class and its subclasses give a more compact representation of the RIG in most common cases where collections of runtime instances all have the same dependencies or dependencies form a range that can be represented compactly.</p>
<p>A RuntimeRange represents an adjacent set of RIG objects (port channels, reactions reactors). For example, it can represent port channels 2 through 5 in a multiport of width 10. The width in this case is 4. If such a port is contained by one or more banks of reactors, then channels 2 through 5 of one bank member form a contiguous range. If you want channels 2 through 5 of all bank members, then this needs to be represented with multiple ranges.</p>
<p>The maxWidth is the width of the instance multiplied by the widths of each of its containers. For example, if a port of width 4 is contained by a bank of width 2 that is then contained by a bank of width 3, then the maxWidth will be 2*3*4 = 24.</p>
<p>The function iterationOrder returns a list that includes the instance of this range and all its containers, except the top-level reactor (main or federated). The order of this list is the order in which an iteration over the RIG objects represented by this range should be iterated. If the instance is a <a class="el" href="classorg_1_1lflang_1_1generator_1_1PortInstance.html" title="Representation of a compile-time instance of a port.">PortInstance</a>, then this order will depend on whether connections at any level of the hierarchy are interleaved.</p>
<p>The simplest Ranges are those where the corresponding CIG node represents only one runtime instance (its instance is not (deeply) within a bank and is not a multiport). In this case, the RuntimeRange and all the objects returned by iterationOrder will have width 1.</p>
<p>In a more complex instance, consider a bank A of width 2 that contains a bank B of width 2 that contains a port instance P with width 2. . There are a total of 8 instances of P, which we can name:</p>
<div class="fragment"><div class="line">A0.B0.P0 A0.B0.P1 A0.B1.P0 A0.B1.P1 A1.B0.P0 A1.B0.P1 A1.B1.P0 A1.B1.P1</div>
</div><!-- fragment --><p>If there is no interleaving, iterationOrder() returns <span class="tt">[P, B, A]</span>, indicating that they should be iterated by incrementing the index of P first, then the index of B, then the index of A, as done above.</p>
<p>If the connection within B to port P is interleaved, then the order of iteration order will be <span class="tt">[B, P, A]</span>, resulting in the list:</p>
<div class="fragment"><div class="line">A0.B0.P0 A0.B1.P0 A0.B0.P1 A0.B1.P1 A1.B0.P0 A1.B1.P0 A1.B0.P1 A1.B1.P1</div>
</div><!-- fragment --><p>If the connection within A to B is also interleaved, then the order will be <span class="tt">[A, B, P]</span>, resulting in the list:</p>
<p>A0.B0.P0 A1.B0.P0 A0.B1.P0 A1.B1.P0 A0.B0.P1 A1.B0.P1 A0.B1.P1 A1.B1.P1</p>
<p>Finally, if the connection within A to B is interleaved, but not the connection within B to P, then the order will be <span class="tt">[A, P, B]</span>, resulting in the list:</p>
<div class="fragment"><div class="line">A0.B0.P0 A1.B0.P0 A0.B0.P1 A1.B0.P1 A0.B1.P0 A1.B1.P0 A0.B1.P1 A1.B1.P1</div>
</div><!-- fragment --><p>A RuntimeRange is a contiguous subset of one of the above lists, given by a start offset and a width that is less than or equal to maxWidth.</p>
<p>Each element of the above lists can be represented as a permuted mixed-radix (PMR) number, where the low-order digit has radix equal to the width of P, the second digit has radix equal to the width of B, and the final digit has radix equal to the width of A. Each PMR has a permutation vector that defines how to increment PMR number. This permutation vector is derived from the iteration order as follows. When there is no interleaving, the iteration order is [P, B, A], and the permutation vector is [0, 1, 2]. When there is interleaving, the permutation vector simply specifies the iteration order. For example, if the iteration order is [A, P, B], then the permutation vector is [2, 0, 1], indicating that digit 2 of the PMR (corresponding to A) should be incremented first, then digit 0 (for P), then digit 1 (for B).</p>
<p>For a RuntimeRange with width greater than 1, the head() and tail() functions split the range.</p>
<p>This class and subclasses are designed to be immutable. Modifications always return a new RuntimeRange.</p>
<dl class="section author"><dt>Author</dt><dd>Edward A. Lee </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/runner/work/lingua-franca/lingua-franca/core/src/main/java/org/lflang/generator/<b>RuntimeRange.java</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>org</b></li><li class="navelem"><a href="namespaceorg_1_1lflang.html">lflang</a></li><li class="navelem"><a href="namespaceorg_1_1lflang_1_1generator.html">generator</a></li><li class="navelem"><a href="classorg_1_1lflang_1_1generator_1_1RuntimeRange_3_01T_01extends_01NamedInstance.html">RuntimeRange&lt; T extends NamedInstance</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for lingua-franca by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
