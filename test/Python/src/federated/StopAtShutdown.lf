/**
 * Check that lf_request_stop() doesn't cause any issues at the shutdown tag.
 *
 * Original bug discovered by Steven Wong <housengw@berkeley.edu>
 *
 * @author Steven Wong <housengw@berkeley.edu>
 */
target Python {
    timeout: 2 sec
}

reactor A {
    input in_

    reaction(startup) {= print("Hello World!") =}

    reaction(in_) {= print("Got it") =}

    reaction(shutdown) {= lf_request_stop() =}
}

reactor B {
    output out
    timer t(1 sec)

    reaction(t) -> out {= out.set(1) =}

    reaction(shutdown) {= lf_request_stop() =}
}

federated reactor {
    a = new A()
    b = new B()
    b.out -> a.in_
}
