/** Test of schedule_value. */
target CCpp {
    timeout: 3 sec
};
main reactor ScheduleValue {
    logical action a:char*;
    reaction(startup) -> a {=
        char* value = (char*)malloc(6);
        strcpy(value, "Hello");
        schedule_value(a, 0, value, 6);
    =}
    reaction(a) {=
        printf("Received: %s\n", a->value);
        if (strcmp(a->value, "Hello") != 0) {
            fprintf(stderr, "FAILURE: Should have received 'Hello'\n");
            exit(1);
        }
    =}
}